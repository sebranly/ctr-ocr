(this["webpackJsonpctr-ocr"]=this["webpackJsonpctr-ocr"]||[]).push([[0],{159:function(e,t,n){e.exports=n(401)},164:function(e,t,n){},165:function(e,t,n){},201:function(e,t){},203:function(e,t){},228:function(e,t){},288:function(e,t){},290:function(e,t){},401:function(e,t,n){"use strict";n.r(t);var a,r,c,l=n(0),o=n.n(l),i=n(152),s=n.n(i),u=(n(164),n(4)),m=n(3),f=n.n(m),h=n(29),p=n(53),d=n(82),b=n(5),g=(n(165),n(83));!function(e){e.Position="position",e.Time="time",e.Username="username",e.All="all"}(a||(a={})),function(e){e.NotStarted="not_started",e.Started="started",e.Done="done"}(r||(r={})),function(e){e.Positive="+",e.Negative="-"}(c||(c={}));var v=n(153),E=n.n(v),y=n(84),k=n.n(y),j=n(157),N=n.n(j),O=n(154),w=n.n(O),x=n(21),C=n(155),P=n(158),S="https://".concat("sebranly",".github.io"),F="https://github.com/".concat("sebranly","/").concat("ctr-ocr"),T="".concat(F,"/blob/main/doc/guide/").concat("en","/"),R="".concat(S,"/json/").concat("ctr-ocr"),A="".concat(R,"/players.json"),M="".concat(R,"/users.json"),U="https://raw.githubusercontent.com/".concat("sebranly","/").concat("ctr-ocr","/main/src/img/examples/"),D="".concat(F,"/tree/main/src/img/examples/full-event/"),_="".concat(F,"/releases"),I="image/jpeg",G="image/png",L=function(e,t){var n=t.filter((function(e){return!!e})),a=1/0,r=e;return n.forEach((function(t){var n=z(e,t);n<a&&(a=n,r=t)})),r},z=function(e,t){var n=e||"",a=t||"";if(""===n)return a.length;if(""===a)return n.length;for(var r=[],c=0;c<=n.length;c++){for(var l=[],o=0;o<=a.length;o++)l.push(0);r.push(l)}for(var i=1;i<=n.length;i++)r[i][0]=i;for(var s=1;s<=a.length;s++)r[0][s]=s;for(var u=1;u<=a.length;u++)for(var m=1;m<=n.length;m++){var f=B(n[m-1],a[u-1]);r[m][u]=Math.min(r[m-1][u]+1,r[m][u-1]+1,r[m-1][u-1]+f)}return r[n.length][a.length]},B=function(e,t){if(1!==e.length||1!==t.length)return 1;var n=e.charAt(0),a=t.charAt(0);return n===a?0:W(n,a,["B","8"])||W(n,a,["-","_"])||W(n,a,["Z","2"])||W(n,a,["O","0"])||W(n,a,["l","1"])||W(n,a,["S","5"])?.5:W(n,a,["Z","7"])||W(n,a,["o","0"])||W(n,a,["o","O"])||W(n,a,["D","P"])||W(n,a,["B","R"])||W(n,a,["e","c"])||W(n,a,["c","o"])?.75:1},W=function(e,t,n){return n.includes(e)&&n.includes(t)},J=function(e,t){var n=/[^a-zA-Z]/g,a=/[^0-9]/g,r=e.replace(n,""),c=t.replace(n,"");if(r===c){var l=parseInt(e.replace(a,""),10),o=parseInt(t.replace(a,""),10);return l===o?0:l>o?1:-1}return r>c?1:-1},q=function(e,t){if(!e||!t)return 1;var n=e.toLowerCase(),a=t.toLowerCase();return n===a?0:n>a?1:-1},H=n(13),V=function(e,t){for(var n=[],a=e;a<=t;a+=1)n.push(a);return n},Y=function(e,t){return Math.floor(e*t)},Z=function(){return V(0,9).join("")},Q=function(e){return e&&0!==e.length?e.filter((function(e){return!!e})).sort():[]},K=function(e){return 0===e.length?[]:e.filter((function(e){return!!e}))},X=function(e,t,n){var a=K(e);if(0===a.length)return[];if(!n)return a;var r=K(t);return 0===r.length?a:[].concat(Object(b.a)(a),Object(b.a)(r))},$=function(e){if(e<1)return"".concat(e);if([11,12,13].includes(e))return"".concat(e,"th");var t=e%10;return"".concat(e,1===t?"st":2===t?"nd":3===t?"rd":"th")},ee=function(e,t,n,r){var c=a.Position,l=a.Time,o=a.Username,i=function(e,t,n){var a=[];return e.forEach((function(e){a.push.apply(a,Object(b.a)(e.split("")))})),n&&t.forEach((function(e){a.push.apply(a,Object(b.a)(e.split("")))})),Object(H.uniq)(a).sort(J).join("")}(t,n,r);switch(e){case c:return{tessedit_char_whitelist:V(1,8).join(""),tessedit_pageseg_mode:"10"};case o:return{tessedit_char_whitelist:i,tessedit_pageseg_mode:"7"};case l:default:return{tessedit_char_whitelist:"".concat(Z(),":-"),tessedit_pageseg_mode:"7"}}},te=function(e){return 0===e?[]:V(1,e).map((function(e){return"Team ".concat(e)}))},ne=function(e){switch(e){case 0:return"#33CCFF";case 1:return"#FF4040";case 2:return"#008000";case 3:return"#FFA500";case 4:return"#6A0DAD";case 5:return"#964B00";case 6:return"#808080";default:return"#FFFFFF"}},ae=function(e){return e&&"png"===e.toLowerCase()?G:I},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.width,c=e.height,l=Y(.64,r),o=Y(.265,c),i=Y(.27,r),s=Y(.425,c);if(n===a.All){var u=t/8,m={height:Y(u,s),left:l,top:o,width:i};return m}var f=.73,h=.03,p=.27,d=.1,b=1-f-h,g={top:Y(t/8,s),height:Y(1/8,s)},v=o+g.top,E=g.height;if(n===a.Position){var y={height:E,left:l,top:v,width:Y(d,i)};return y}var k=l+Y(f,i),j=Y(b,i),N=l+Y(p,i),O=Y(1-b-p-h,i),w=n===a.Time,x=w?k:N,C=w?j:O,P={height:E,left:x,top:v,width:C};return P},ce=function(e){return e?e.split(".")[0]:""},le=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},oe=function(e,t){return 0===e?[]:1===e?[t]:V(1,e).map((function(e){return t}))},ie=function(e){var t={correct:!1,errMsg:""},n=Object(b.a)(e).sort((function(e,t){return t-e}));return le(n,e)?(t.correct=!0,t):(t.errMsg="Points should decrease from first to last place (ties are possible)",t)},se=function(e){var t={correct:!1,errMsg:""};return e.some((function(e){return!e}))?(t.errMsg="At least one username is missing",t):Object(H.uniq)(e).length!==e.length?(t.errMsg="At least one username is duplicated",t):(t.correct=!0,t)},ue=function(e){var t=new Date(e),n="".concat(t.getMonth()+1),a="".concat(t.getDate());return["".concat(t.getFullYear()),n.length<2?"0".concat(n):n,a.length<2?"0".concat(a):a].join("-")},me=function(e){return 0===e?[]:V(0,e-1).map((function(e){return{name:"Team ".concat(e+1),color:ne(e)}}))},fe=function(e,t,n,a){var r=he(e),c=[];return n.forEach((function(e,n){var l=a[n],o=l.color,i=l.name,s="".concat(i," ").concat(o);c.push(s),Object.keys(t).forEach((function(n){if(t[n]===e){var a=r[n]||[],l="".concat(n," ").concat(a.join("|"));c.push(l)}})),c.push("")})),[].concat(Object(b.a)(pe()),[""],c)},he=function(e){var t={};return e.forEach((function(e){e.forEach((function(e){var n=e.username;Object.keys(t).includes(n)||(t[n]=[])}))})),e.forEach((function(e){Object.keys(t).forEach((function(n){var a,r=e.find((function(e){return e.username===n})),c=null!==(a=null===r||void 0===r?void 0:r.points)&&void 0!==a?a:0;t[n].push(c)}))})),t},pe=function(){return["#title Title","#date ".concat(ue(Date.now()))]},de=function(e){var t=he(e),n=[];return Object.keys(t).forEach((function(e){var a=t[e],r="".concat(e," ").concat(a.join("|"));n.push(r)})),[].concat(Object(b.a)(pe()),[""],n)},be=function(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"mt2 text-center"},"Developed by"," ",l.createElement("a",{href:F,rel:"noopener noreferrer",title:"GitHub page for repository",target:"_blank"},"sebranly")," ","(PSN:"," ",l.createElement("a",{href:"https://crashteamranking.com/members/siblingbling/tt/",rel:"noopener noreferrer",title:"Crash Team Ranking for ZouGui28",target:"_blank"},"ZouGui28"),") with \u2764\ufe0f"),l.createElement("div",{className:"mt2 text-center"},"Website version"," ",l.createElement("a",{href:_,rel:"noopener noreferrer",title:"Website changelog",target:"_blank"},"1.5.0")))},ge=function(e){var t=e.msg;return l.createElement("div",{className:"text-center mb"},t)},ve=function(e){var t=e.lorenziTeams,n=e.setLorenziTeams,a=function(e,a){return function(r){if(!(t.length<=e)){var c=r.currentTarget.value,l=Object(b.a)(t);a?l[e].name=c:l[e].color=c,n(l)}}};return l.createElement("div",{className:"text-center mb2"},t.map((function(e,t){var n=e.name,r=e.color;return l.createElement("div",{className:"mb",key:t},l.createElement("input",{className:"mr",onChange:a(t,!0),value:n}),l.createElement("input",{className:"ml",onChange:a(t,!1),type:"color",value:r}))})))},Ee=function(e,t,n,a){var r=[],c=t===e,l=t===e/2,o=t===e/3,i=t===e/4;if(a)r.push.apply(r,[14,12,11,9,4,3,2,1]);else if(n)if(c)switch(e){case 2:r.push.apply(r,[3,1]);break;case 3:r.push.apply(r,[4,2,1]);break;case 4:r.push.apply(r,[5,3,2,1]);break;case 5:r.push.apply(r,[6,5,3,2,1]);break;case 6:r.push.apply(r,[7,6,5,3,2,1]);break;case 7:r.push.apply(r,[8,7,6,4,3,2,1]);break;case 8:r.push.apply(r,[9,8,7,5,4,3,2,1])}else l?8===e?r.push.apply(r,[8,7,6,5,4,3,2,1]):6===e?r.push.apply(r,[6,5,4,3,2,1]):4===e&&r.push.apply(r,[4,3,2,1]):o&&6===e?r.push.apply(r,[6,5,4,3,2,1]):i&&8===e?r.push.apply(r,[10,8,6,5,4,3,2,1]):r.push.apply(r,[9,8,7,5,4,3,2,1]);else c?r.push.apply(r,[10,8,7,5,4,3,2,1]):4===e?r.push.apply(r,[5,3,2,1]):r.push.apply(r,[10,8,6,5,4,3,2,1]);var s=r.slice(0,e),u=8-s.length;if(u<=0)return s;var m=oe(u,0);return[].concat(Object(b.a)(s),Object(b.a)(m))},ye=function(e){var t=e.className,n=e.isDisabledUI,a=e.isDoubleRush,r=e.isRanked,o=e.name,i=e.nbPlayers,s=e.nbTeams,u=e.pointsScheme,m=e.setAbsolutePointsScheme,f=e.setSignPointsScheme,h=Ee(i,s,r,a),p=le(u.slice(0,i),h.slice(0,i));return l.createElement("button",{className:t,onClick:function(){f(oe(8,c.Positive)),m(h)},disabled:n||p},o)},ke=function(e){var t=e.isDisabledUI,n=e.players,a=e.setPlayers,r=e.suggestions,c=function(e){return function(t){if(!(n.length<=e)){var r=t.currentTarget.value,c=Object(b.a)(n);c[e]=r,a(c)}}},o=function(e){var t="human-player-suggestion-".concat(e);return l.createElement("datalist",{id:t},r.map((function(e){return l.createElement("option",{key:e,value:e})})))};return l.createElement("div",null,n.map((function(e,a){return function(e){var a="human-player-suggestion-".concat(e);return l.createElement("div",{key:e},l.createElement("input",{className:"mb mt big-input",disabled:t,list:a,onChange:c(e),value:n[e]||""}),o(e))}(a)})))},je=function(){var e=function(){var e=ut.slice(0,De);return l.createElement("tbody",null,e.map((function(e,n){var a=n,r=pt[n],o=r===c.Positive?"green":"red";return l.createElement("tr",{key:a},l.createElement("td",{className:"text-center"},$(n+1)),l.createElement("td",{className:"text-center"},l.createElement("select",{disabled:Je,onChange:yn(n),className:o,value:r},t()),l.createElement("input",{className:"ml text-center",type:"number",min:0,value:ut[n],disabled:Je,onChange:kn(n)})))})))},t=function(){return[c.Positive,c.Negative].map((function(e){return l.createElement("option",{key:e,label:e,value:e},e)}))},n=function(e){var t=function(e,t){var n="".concat(e,"-").concat(t),a="".concat(e);return l.createElement("option",{key:n,label:a,value:e},a)},n=x.isMobile?"max-width-100":"";return l.createElement("tbody",null,Xe[e].map((function(a,r){var c=a.position,o=a.username,i=a.points,s="".concat(c,"-").concat(o);return l.createElement("tr",{key:s},l.createElement("td",null,$(c)),Mt&&l.createElement("td",null,function(e,t){var n=K(t);return 0!==n.length&&n.includes(e)}(o,nt)?"\ud83d\udc64":"\ud83e\udd16"),l.createElement("td",null,l.createElement("select",{className:n,onChange:Nn(e,r),value:o},function(){var e=K(nt).sort(q);if(!Mt)return e.map(t);var n=K(jt).sort(q);return l.createElement(l.Fragment,null,l.createElement("optgroup",{key:"human",label:"Human"},e.map(t)),l.createElement("optgroup",{key:"cpus",label:"CPUs"},n.map(t)))}())),l.createElement("td",null,l.createElement("select",{onChange:jn(e,r),value:i},Object(H.uniq)([].concat(Object(b.a)(lt.slice(0,De)),[0])).sort((function(e,t){return t-e})).map(t))))})))},o=function(e){var t="Race ".concat(e+1),a=se(Xe[e].map((function(e){return e.username}))),r=ie(Xe[e].map((function(e){return e.points})));return l.createElement("div",{key:e},l.createElement("h3",null,t),function(e){if(!Re||Re.length<=e)return null;var t=x.isMobile?"img-show max-width-100":"img-show max-width-45";return l.createElement("img",{alt:"Cropped Results",className:t,src:Re[e]})}(e),l.createElement("div",{className:"flex-container mt"},function(e){var t=x.isMobile?"flex-1 limited-table":"flex-1";return l.createElement("table",{className:t},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Position"),Mt&&l.createElement("th",null,"Type"),l.createElement("th",null,"Name"),l.createElement("th",null,"Points"))),n(e))}(e)),!a.correct&&l.createElement("div",{className:"red"},a.errMsg),!r.correct&&l.createElement("div",{className:"red"},r.errMsg))},i=function(){if(!Xe||Xe.length<=en)return null;var e=function(e){var t=e.map((function(e){return ie(e.map((function(e){return e.points})))})),n=e.map((function(e){return se(e.map((function(e){return e.username})))})),a=[];return t.forEach((function(e,t){e.correct||a.push(t+1)})),n.forEach((function(e,t){e.correct||a.includes(t+1)||a.push(t+1)})),a.sort((function(e,t){return e-t}))}(Xe),t="In order to access Lorenzi markdown please fix the errors present in the following race(s): ".concat(e.join(", ")),n=(rn.match(/\n/g)||[]).length+1;return l.createElement("div",{className:"center"},l.createElement("h2",null,"Lorenzi"),e.length>0&&l.createElement("div",{className:"red"},t),0===e.length&&l.createElement(l.Fragment,null,l.createElement(C.CopyToClipboard,{options:{message:""},text:rn,onCopy:function(){return Et(!0)}},l.createElement("button",{disabled:""===rn||vt,className:"mt"},vt?"Copied":"Copy Lorenzi to clipboard")),l.createElement("a",{className:"block mt mb",href:"https://gb.hlorenzi.com/table",rel:"noopener noreferrer",title:"Lorenzi Table website",target:"_blank"},"Go to Lorenzi Table"),!Mt&&!Tn&&l.createElement(ve,{lorenziTeams:Bt,setLorenziTeams:Wt}),l.createElement("textarea",{className:"textarea-".concat(xn),disabled:!0,rows:n,value:rn})))},s=function(){var e={isDisabledUI:Je,nbPlayers:De,pointsScheme:lt,setAbsolutePointsScheme:mt,setSignPointsScheme:dt};return l.createElement("div",{className:"mb"},l.createElement(ye,Object.assign({name:"Ranked FFA",isRanked:!0,isDoubleRush:!1,nbTeams:De},e)),l.createElement(ye,Object.assign({name:"Ranked WAR",className:"ml",isRanked:!0,isDoubleRush:!1,nbTeams:Ht},e)),l.createElement(ye,Object.assign({name:"Casual FFA",className:"ml",isRanked:!1,isDoubleRush:!1,nbTeams:De},e)),l.createElement(ye,Object.assign({name:"Casual WAR",className:"ml",isRanked:!1,isDoubleRush:!1,nbTeams:Ht},e)),l.createElement(ye,Object.assign({name:"Double Rush",className:"ml",isRanked:!1,isDoubleRush:!0,nbTeams:Ht},e)))},m=function(){return function(){var t=x.isMobile?"flex-1":"flex-1 max-width-50 center";return l.createElement("table",{className:t},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{className:"text-center"},"Position"),l.createElement("th",{className:"text-center"},"Points"))),e())}()},v=function(){return Mt?l.createElement(ge,{msg:"Teams are not available when CPUs are activated"}):l.createElement(l.Fragment,null,l.createElement("select",{disabled:Je,onChange:vn,value:Ht},wn.map((function(e){var t=e===De?"FFA":"".concat(e," teams");return l.createElement("option",{key:e,label:t,value:e},t)}))),O())},y=function(e){return function(t){var n=t.currentTarget.value,a=Object(d.a)(Object(d.a)({},Qt),{},Object(p.a)({},e,n));Kt(a)}},j=function(e){var t=function(e,t,n){var a=n[e];if(!a)return"black";switch(t.indexOf(a)){case 0:return"blue";case 1:return"red";case 2:return"green";case 3:return"orange";case 4:return"purple";case 5:return"brown";case 6:return"grey";default:return"black"}}(e,It,Qt),n="inline ".concat(t);return l.createElement("li",{className:"block",key:e},l.createElement("div",{className:n},e),l.createElement("div",{className:"ml mb block text-center"},function(e){return It.map((function(t){var n="".concat(e,"-").concat(t),a=Qt[e]===t;return l.createElement("div",{className:"ml inline",key:n},l.createElement("input",{type:"radio",disabled:Je,id:n,name:e,value:t,checked:a,onChange:y(e)}),l.createElement("label",{htmlFor:n},t))}))}(e)))},O=function(){if(Mt)return null;if(Tn)return l.createElement("div",{className:"ml block mb"},"Free For All means there is no need to set up teams!");var e=Sn.isWarning?"orange":"red";return l.createElement(l.Fragment,null,l.createElement("ul",{className:"text-center no-padding mt2"},l.createElement("div",{className:"inline-block"},Pn.map(j)),!Sn.correct&&l.createElement("div",{className:e},Sn.errMsg)))},S=function(){if(!Ft||0===Object.keys(Ft).length)return l.createElement(ge,{msg:"Loading CPUs..."});var e="".concat(T,"CPUs.md"),t=Object.keys(Ft),n=fn?"Automatically activated bots because ".concat(mn," human player(s) was/were filled out of a total of ").concat(De," players"):"Check this if there were bots during the race";return l.createElement(l.Fragment,null,l.createElement("div",{className:"text-center mb"},l.createElement("input",{name:"includeCpuPlayers",type:"checkbox",checked:Mt,onChange:On,disabled:fn||Je}),l.createElement("div",{className:"ml inline"},n)),Mt&&l.createElement(l.Fragment,null,l.createElement(ge,{msg:"Bots are automatically determined based on the language and cannot be edited"}),l.createElement("div",{className:"ml block mb"},"For more information, please refer to the"," ",l.createElement("a",{href:e,rel:"noopener noreferrer",title:"Guide about CPUs",target:"_blank"},"CPUs guide")),l.createElement("div",{className:"inline mr"},"Language in images"),l.createElement("select",{disabled:Je,onChange:En,value:Le},t.map((function(e){var t="".concat(e);return l.createElement("option",{key:e,label:t,value:e},t)}))),l.createElement("textarea",{className:"textarea-".concat(xn),disabled:!0,placeholder:"Loading CPUs...",rows:8,value:jt.join("\n")})))},F=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ze(!0),qe(!1),fetch(A).then((function(e){return e.json()})).then((function(e){Tt(e),Nt(Q(e.en))})),fetch(M).then((function(e){return e.json()})).then((function(e){var t=e.playstation,n=e.switch,a=e.xbox,r=[];t&&r.push.apply(r,Object(b.a)(t)),n&&r.push.apply(r,Object(b.a)(n)),a&&r.push.apply(r,Object(b.a)(a)),Ct(r)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,c,l,o,i,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ye){e.next=2;break}return e.abrupt("return");case 2:return qe(!0),ne(r.Started),pe("Initialization..."),$e([]),tn(0),Ae([]),cn(""),un(!1),t=Object(g.createScheduler)(),n=Object(g.createWorker)({}),t.addWorker(n),e.next=15,n.load();case 15:return e.next=17,n.loadLanguage("eng");case 17:return e.next=19,n.initialize("eng");case 19:return c=ee(a.Username,K(nt),K(jt),Mt),e.next=22,n.setParameters(c);case 22:l=V(0,De-1),o=function(){var e=Object(h.a)(f.a.mark((function e(n,a,r,c){var l,o,i,s,u,m,h,p,d,b,g;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t,o=re(r,n,a),i=r.extension,s=ae(i),u=c.crop(o.left,o.top,o.width,o.height),m={count:2,type:s},e.next=8,u.getBufferAsync(s);case 8:return h=e.sent,e.next=11,E()(h,m).then((function(e){return[e[0].rgb(),e[1].rgb()]}));case 11:return p=e.sent,d=p[0][0]<p[1][0]&&p[0][1]<p[1][1]&&p[0][2]<p[1][2],b=d?u.invert():u,e.next=16,b.getBufferAsync(s);case 16:return g=e.sent,e.abrupt("return",l.addJob("recognize",g));case 18:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),i=[],s=[],u=0;case 27:if(!(u<Pe.length)){e.next=38;break}return e.prev=28,e.delegateYield(f.a.mark((function e(){var t,n,r,c,m,h,p,d,b,g,v,E,y,j,N,O,w,x;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Image ".concat(u+1," out of ").concat(Pe.length,"..."),pe(t),e.next=5,k.a.read(Pe[u]);case 5:return n=e.sent,r=n.bitmap.height,c=r>1e3?n.resize(k.a.AUTO,1e3):n,m=c.rotate(-6.2),h=m.bitmap.height,p=m.bitmap.width,d=m.getExtension(),g=re(b={height:h,extension:d,width:p},De,a.All),v=m.clone(),v.crop(g.left,g.top,g.width,g.height).getBase64(I,(function(e,t){s.push(t)})),E=m.grayscale(),y=l.map((function(e){return o(e,a.Username,b,E.clone())})),e.next=32,Promise.all(y);case 32:j=e.sent,N=j.map((function(e){return e.data.text.replaceAll("\n","").replaceAll(" ","")})),O=[],w=X(nt,jt,Mt),x=[],l.forEach((function(e){var t,n,a=N[e],r=L(a,w),c={username:r,rawUsername:a,distanceUsername:z(r,a),position:e+1,points:lt[e]};x.push([c.username,null!==(t=c.rawUsername)&&void 0!==t?t:"",null!==(n=c.distanceUsername)&&void 0!==n?n:c.username.length]),O.push(c)})),i.push(O);case 43:case"end":return e.stop()}}),e)}))(),"t0",30);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(28),e.t1;case 35:u++,e.next=27;break;case 38:return $e(i),Ae(s),ne(r.Done),pe(""),e.next=44,t.terminate();case 44:case"end":return e.stop()}}),e,null,[[28,32]])})));return function(){return e.apply(this,arguments)}}(),_=Ee(8,8,!1,!1),B=N()().width,W=l.useState(r.NotStarted),Y=Object(u.a)(W,2),Z=Y[0],ne=Y[1],le=l.useState(""),ue=Object(u.a)(le,2),he=ue[0],pe=ue[1],je=l.useState([]),Ne=Object(u.a)(je,2),Oe=Ne[0],we=Ne[1],xe=l.useState([]),Ce=Object(u.a)(xe,2),Pe=Ce[0],Se=Ce[1],Fe=l.useState([]),Te=Object(u.a)(Fe,2),Re=Te[0],Ae=Te[1],Me=l.useState(8),Ue=Object(u.a)(Me,2),De=Ue[0],_e=Ue[1],Ie=l.useState("en"),Ge=Object(u.a)(Ie,2),Le=Ge[0],ze=Ge[1],Be=l.useState(!0),We=Object(u.a)(Be,2),Je=We[0],qe=We[1],He=l.useState(!1),Ve=Object(u.a)(He,2),Ye=Ve[0],Ze=Ve[1],Qe=l.useState([]),Ke=Object(u.a)(Qe,2),Xe=Ke[0],$e=Ke[1],et=l.useState(oe(8,"")),tt=Object(u.a)(et,2),nt=tt[0],at=tt[1],rt=l.useState(_),ct=Object(u.a)(rt,2),lt=ct[0],ot=ct[1],it=l.useState(_),st=Object(u.a)(it,2),ut=st[0],mt=st[1],ft=l.useState(oe(8,c.Positive)),ht=Object(u.a)(ft,2),pt=ht[0],dt=ht[1],bt=l.useState(!1),gt=Object(u.a)(bt,2),vt=gt[0],Et=gt[1],yt=l.useState(["Loading CPUs..."]),kt=Object(u.a)(yt,2),jt=kt[0],Nt=kt[1],Ot=l.useState([]),wt=Object(u.a)(Ot,2),xt=wt[0],Ct=wt[1],Pt=l.useState({}),St=Object(u.a)(Pt,2),Ft=St[0],Tt=St[1],Rt=l.useState(!1),At=Object(u.a)(Rt,2),Mt=At[0],Ut=At[1],Dt=l.useState(te(2)),_t=Object(u.a)(Dt,2),It=_t[0],Gt=_t[1],Lt=l.useState(me(2)),zt=Object(u.a)(Lt,2),Bt=zt[0],Wt=zt[1],Jt=l.useState(2),qt=Object(u.a)(Jt,2),Ht=qt[0],Vt=qt[1],Yt=l.useState({}),Zt=Object(u.a)(Yt,2),Qt=Zt[0],Kt=Zt[1],Xt=l.useState(0),$t=Object(u.a)(Xt,2),en=$t[0],tn=$t[1],nn=l.useState(""),an=Object(u.a)(nn,2),rn=an[0],cn=an[1],ln=l.useState(!1),on=Object(u.a)(ln,2),sn=on[0],un=on[1],mn=Object(H.uniq)(K(nt)).length,fn=mn<De;l.useEffect((function(){F()}),[]),l.useEffect((function(){var e=Object(b.a)(ut).map((function(e,t){return(pt[t]===c.Negative?-1:1)*e}));ot(e)}),[ut,pt]),l.useEffect((function(){if(!(Oe.length<1)){var e=[];(function(e){return 0===e.length?[]:1===e.length?e:e.sort((function(e,t){var n=e.name,a=t.name,r=ce(n),c=ce(a);return J(r,c)}))})(Oe).forEach((function(t){e.push(URL.createObjectURL(t))})),Se(e)}}),[Oe]),l.useEffect((function(){if(Xe&&Xe.length>0){var e=function(e,t,n,a,r,c,l){return c||n===a?de(e):fe(e,t,r,l)}(Xe,Qt,Ht,De,It,Mt,Bt);cn(e.join("\n")),Et(!1)}}),[Xe,Bt]),l.useEffect((function(){fn&&!Mt&&Ut(!0)}),[fn,Mt]),l.useEffect((function(){Vt(2),Gt(te(2)),Wt(me(2)),Kt({})}),[nt]);var hn=function(e){un(!0)},pn=function(e){window.location.reload()},dn=function(e){return function(t){var n=en+e;n<0||n>=Xe.length||tn(n)}},bn=function(e){we(Object(b.a)(e.target.files)),$e([])},gn=function(e){if(e!==De){_e(e);var t=e-De,n=t>0?[].concat(Object(b.a)(nt),Object(b.a)(oe(t,""))):nt.slice(0,e);at(n),Vt(2),Gt(te(2)),Wt(me(2)),Kt({})}},vn=function(e){var t=Number(e.target.value),n=te(t);Vt(t),Gt(n),Wt(me(t)),Kt({})},En=function(e){ze(e.target.value),Nt(Q(Ft[e.target.value]))},yn=function(e){return function(t){if(pt&&!(pt.length<e)){var n=t.target.value===c.Positive?c.Positive:c.Negative,a=Object(b.a)(pt);a[e]=n,dt(a)}}},kn=function(e){return function(t){if(ut&&!(ut.length<e)){var n=t.currentTarget.value,a=Object(b.a)(ut),r=Number(n),c=isNaN(r)?0:r;a[e]=Math.abs(c),mt(a)}}},jn=function(e,t){return function(n){if(Xe&&!(Xe.length<e)){var a=Object(b.a)(Xe);a[e][t].points=Number(n.target.value),$e(a)}}},Nn=function(e,t){return function(n){if(Xe&&!(Xe.length<e)){var a=Object(b.a)(Xe);a[e][t].username=n.target.value,$e(a)}}},On=function(e){var t=e.target.checked;Ut(t)},wn=function(e){return[0,1,2].includes(e)?[e]:Object(H.uniq)([e].concat(Object(b.a)(V(2,e-1).sort((function(e,t){return e-t})))))}(De),xn=x.isMobile?"mobile":"desktop",Cn=!Je||Xe&&0!==Xe.length?"bg-white":"bg-grey",Pn=Object(H.uniq)(K(nt)).sort(q),Sn=function(e,t,n){var a={correct:!1,errMsg:""},r=[],c=[],l=[];return e.forEach((function(e){var a=n[e];a||r.push(e),t.includes(a)||c.push(e),t.includes(a)&&l.push(a)})),r.length>0?(a.errMsg="The following players have no assigned team: ".concat(r.join(", ")),a.isWarning=!0,a):c.length>0?(a.errMsg="The following players have an invalid team: ".concat(c.join(", ")),a):1===Object(H.uniq)(l).length?(a.errMsg="You cannot have all players under the same team",a):(a.correct=!0,a)}(Pn,It,Qt),Fn=ie(lt.slice(0,De)),Tn=Ht===De,Rn=!Mt&&!Tn&&!Sn.correct,An=!Fn.correct,Mn="".concat(T,"FAQ.md");return l.createElement("div",{className:"main"},l.createElement("h1",null,"Crash Team Results"),l.createElement("h2",null,"Optical Character Recognition"),l.createElement("div",{className:"w3-light-grey"}),Z===r.Done&&l.createElement(w.a,{width:B,height:document.body.scrollHeight>window.innerHeight?document.body.scrollHeight:window.innerHeight,numberOfPieces:x.isMobile?800:1600,recycle:!1}),l.createElement("div",{className:"center main-content-".concat(xn," m-0-auto ").concat(Cn)},Z!==r.Started?null:l.createElement("div",{className:"progress-bar"},l.createElement("div",{className:"progress-bar-value"}),l.createElement("div",{className:"progress-bar-text"},he)),l.createElement("h2",null,"Introduction"),l.createElement(ge,{msg:"Please enter information from top to bottom for a smooth experience"}),l.createElement(ge,{msg:"At the end, we'll produce the Lorenzi markdown for you"}),l.createElement("a",{href:"https://youtu.be/XjwoKGtEQag",rel:"noopener noreferrer",title:"Video Tutorial about how to use Crash Team Results website",target:"_blank"},"Video Tutorial")," - ",l.createElement("a",{href:Mn,rel:"noopener noreferrer",title:"Frequently Asked Questions",target:"_blank"},"FAQ"),l.createElement("h2",null,"Players"),l.createElement("h3",null,"Number of players"),l.createElement(ge,{msg:"This includes CPUs if any"}),function(){var e=Je?De:2,t=Je?De:8,n=Je?De:8,a=Je?function(){}:gn,r=Je?"#999999":"#3385FF";return l.createElement("div",{className:"numeric-stepper-wrapper"},l.createElement(P.a,{minimumValue:e,maximumValue:t,stepValue:1,initialValue:n,size:"sm",inactiveTrackColor:"#dddddd",activeTrackColor:"#ffffff",activeButtonColor:"#ffffff",inactiveIconColor:"#3385FF",hoverIconColor:"#000080",activeIconColor:"#000080",disabledIconColor:"#dddddd",thumbColor:r,thumbShadowAnimationOnTrackHoverEnabled:!1,focusRingColor:"#fff7ed",onChange:a}))}(),l.createElement("h3",null,"Human Players"),l.createElement(ge,{msg:"Type all human players present in the races"}),l.createElement(ge,{msg:"You can leave some fields blank if there were CPUs"}),l.createElement(ke,{isDisabledUI:Je,suggestions:xt,players:nt,setPlayers:at}),0===mn?null:l.createElement(l.Fragment,null,l.createElement(l.Fragment,null,l.createElement("h3",null,"CPUs"),S()),l.createElement(l.Fragment,null,l.createElement("h3",null,"Teams"),v()),Rn?null:l.createElement(l.Fragment,null,l.createElement("h3",null,"Points"),l.createElement(ge,{msg:"Choose a preset or edit each value individually for something more custom"}),s(),m(),!Fn.correct&&l.createElement("div",{className:"red"},Fn.errMsg)),function(){var e="".concat(U,"IMG1.JPG"),t="".concat(U,"IMG1.PNG"),n="".concat(T,"Images.md");return An||Rn?null:l.createElement(l.Fragment,null,l.createElement("h2",null,"Images"),l.createElement("div",{className:"text-center mb"},l.createElement("div",{className:"ml block mb bold"},"Screenshots will be ordered alphabetically by name"),l.createElement("div",{className:"ml block mb"},"Select screenshots in JPG/JPEG or PNG format, taken right when Returning to Lobby was around 14 seconds"),l.createElement("div",{className:"ml block mb"},"Examples of valid screenshots:"," ",l.createElement("a",{href:e,rel:"noopener noreferrer",title:"Example of valid JPEG screenshot",target:"_blank"},"JPG/JPEG")," ","and"," ",l.createElement("a",{href:t,rel:"noopener noreferrer",title:"Example of valid PNG screenshot",target:"_blank"},"PNG")),l.createElement("div",{className:"ml block mb"},"You can upload multiple images at once, as in this"," ",l.createElement("a",{href:D,rel:"noopener noreferrer",title:"Example of a valid 10-race event",target:"_blank"},"10-race example")),l.createElement("div",{className:"ml block mb"},"For more information, please refer to the"," ",l.createElement("a",{href:n,rel:"noopener noreferrer",title:"Guide about Images",target:"_blank"},"images guide")),l.createElement("input",{className:"inline mt",disabled:Je,type:"file",multiple:!0,accept:[I,G].join(", "),onChange:bn})))}(),An||Rn?null:x.isMobile?Pe.map((function(e,t){return l.createElement("img",{alt:"TODO:",className:"img-full max-width-100 block",key:"".concat(e,"-").concat(t),src:e})})):l.createElement("div",{className:"flex-container center"},Pe.map((function(e,t){return l.createElement("img",{alt:"TODO:",className:"img-full max-width-45 flex-1",key:"".concat(e,"-").concat(t),src:e})}))),function(){if(An||Rn)return null;var e=Z===r.Done?"orange":"red",t="ml block mb bold ".concat(e),n=Z===r.Done?"Images were analyzed successfully. Please check the results below are correct. Feel free to tweak any mistake below.":"Please ensure all the information entered above is correct, as none of it can be edited afterwards.";return l.createElement("div",{className:"text-center mb"},l.createElement("div",{className:t},n),l.createElement("input",{className:"inline-block ml",type:"button",value:"Get results",disabled:Je||!Pe||0===Pe.length,onClick:R}))}(),!Xe||Xe.length<=en?null:l.createElement(l.Fragment,null,l.createElement("hr",null),l.createElement("div",{className:"center"},l.createElement("button",{disabled:sn,onClick:hn},"Start Over"),sn&&l.createElement("button",{className:"block confirm-start-over",onClick:pn},"Confirm and start from scratch"),l.createElement("h2",null,"Results"),o(en),1!==Xe.length&&l.createElement("div",{className:"pagination-races mt2"},l.createElement("button",{className:"pagination-previous-race mr",disabled:0===en,onClick:dn(-1)},"Previous Race"),l.createElement("div",{className:"inline ml mr"},"Race ".concat(en+1,"/").concat(Xe.length)),l.createElement("button",{className:"pagination-next-race ml",disabled:en===Xe.length-1,onClick:dn(1)},"Next Race")))),i())),l.createElement(be,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(je,null),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.97a1739c.chunk.js.map