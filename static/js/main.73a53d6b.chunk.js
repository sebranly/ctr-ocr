(this["webpackJsonpctr-ocr"]=this["webpackJsonpctr-ocr"]||[]).push([[0],{161:function(e,t,n){e.exports=n(402)},166:function(e,t,n){},167:function(e,t,n){},203:function(e,t){},205:function(e,t){},230:function(e,t){},290:function(e,t){},292:function(e,t){},402:function(e,t,n){"use strict";n.r(t);var r,a,c,l=n(0),o=n.n(l),i=n(154),u=n.n(i),s=(n(166),n(4)),m=n(3),f=n.n(m),d=n(29),h=n(53),g=n(82),b=n(7),p=(n(167),n(83));!function(e){e.Position="position",e.Time="time",e.Username="username",e.All="all"}(r||(r={})),function(e){e.NotStarted="not_started",e.Started="started",e.Done="done"}(a||(a={})),function(e){e.Positive="+",e.Negative="-"}(c||(c={}));var v=n(155),E=n.n(v),N=n(84),y=n.n(N),k=n(159),w=n.n(k),j=n(156),x=n.n(j),O=n(21),C=n(85),P=n(160),F="https://".concat("sebranly",".github.io"),T="https://github.com/".concat("sebranly","/").concat("ctr-ocr"),S="".concat(T,"/blob/main/doc/guide/").concat("en","/"),A="".concat(F,"/json/").concat("ctr-ocr","/players.json"),_="https://raw.githubusercontent.com/".concat("sebranly","/").concat("ctr-ocr","/main/src/img/examples/"),M="".concat(T,"/tree/main/src/img/examples/full-event/"),G="".concat(T,"/releases"),U="image/jpeg",L="image/png",z=[10,8,7,5,4,3,2,1],I=[10,8,6,5,4,3,2,1],R=["ZouGui28","Nefarious_CTR","Kyo-Bomba","WadaDim-PatroL","Hy\xe8ne_JurassX","Alexiz","Colonel_Hay","TATANE"],D=function(e,t){var n=t.filter((function(e){return!!e})),r=1/0,a=e;return n.forEach((function(t){var n=B(e,t);n<r&&(r=n,a=t)})),a},B=function(e,t){var n=e||"",r=t||"";if(""===n)return r.length;if(""===r)return n.length;for(var a=[],c=0;c<=n.length;c++){for(var l=[],o=0;o<=r.length;o++)l.push(0);a.push(l)}for(var i=1;i<=n.length;i++)a[i][0]=i;for(var u=1;u<=r.length;u++)a[0][u]=u;for(var s=1;s<=r.length;s++)for(var m=1;m<=n.length;m++){var f=H(n[m-1],r[s-1]);a[m][s]=Math.min(a[m-1][s]+1,a[m][s-1]+1,a[m-1][s-1]+f)}return a[n.length][r.length]},H=function(e,t){if(1!==e.length||1!==t.length)return 1;var n=e.charAt(0),r=t.charAt(0);return n===r?0:J(n,r,["B","8"])||J(n,r,["-","_"])||J(n,r,["Z","2"])||J(n,r,["O","0"])||J(n,r,["l","1"])||J(n,r,["S","5"])?.5:J(n,r,["Z","7"])||J(n,r,["o","0"])||J(n,r,["o","O"])||J(n,r,["D","P"])||J(n,r,["B","R"])||J(n,r,["e","c"])||J(n,r,["c","o"])?.75:1},J=function(e,t,n){return n.includes(e)&&n.includes(t)},W=function(e,t){var n=/[^a-zA-Z]/g,r=/[^0-9]/g,a=e.replace(n,""),c=t.replace(n,"");if(a===c){var l=parseInt(e.replace(r,""),10),o=parseInt(t.replace(r,""),10);return l===o?0:l>o?1:-1}return a>c?1:-1},q=function(e,t){if(!e||!t)return 1;var n=e.toLowerCase(),r=t.toLowerCase();return n===r?0:n>r?1:-1},V=n(13),Z=function(e,t){for(var n=[],r=e;r<=t;r+=1)n.push(r);return n},Q=function(e,t){return Math.floor(e*t)},Y=function(){return Z(0,9).join("")},K=function(e,t){var n,r;return(null!==(n=null===(r=e.browser)||void 0===r?void 0:r.name)&&void 0!==n?n:"").includes(t)},X=function(e){return e&&0!==e.length?e.filter((function(e){return!!e})).sort().join("\n"):""},$=function(e,t){if(e<1)return"";var n=function(e){return K(e,"Chrome")}(t),r=function(e){return K(e,"Firefox")}(t),a=function(e){var t,n,r=null!==(t=null===(n=e.device)||void 0===n?void 0:n.type)&&void 0!==t?t:"";return["mobile","tablet"].includes(r)}(t);return e>1&&(n||r)&&!a?R.slice(0,e).join("\n"):R[0]},ee=function(e){return e?e.split("\n").filter((function(e){return!!e})):[]},te=function(e,t,n){if(!e)return[];var r=ee(e);if(!n||!t)return r;var a=ee(t);return[].concat(Object(b.a)(r),Object(b.a)(a))},ne=function(e){if(e<1)return"".concat(e);if([11,12,13].includes(e))return"".concat(e,"th");var t=e%10;return"".concat(e,1===t?"st":2===t?"nd":3===t?"rd":"th")},re=function(e,t,n,a){var c=r.Position,l=r.Time,o=r.Username,i=function(e,t,n){var r=[];return e.forEach((function(e){r.push.apply(r,Object(b.a)(e.split("")))})),n&&t.forEach((function(e){r.push.apply(r,Object(b.a)(e.split("")))})),Object(V.uniq)(r).sort(W).join("")}(t,n,a);switch(e){case c:return{tessedit_char_whitelist:Z(1,8).join(""),tessedit_pageseg_mode:"10"};case o:return{tessedit_char_whitelist:i,tessedit_pageseg_mode:"7"};case l:default:return{tessedit_char_whitelist:"".concat(Y(),":-"),tessedit_pageseg_mode:"7"}}},ae=function(e){return 0===e?[]:Z(1,e).map((function(e){return"Team ".concat(e)}))},ce=function(e){switch(e){case 0:return"#33CCFF";case 1:return"#FF4040";case 2:return"#008000";case 3:return"#FFA500";case 4:return"#6A0DAD";case 5:return"#964B00";case 6:return"#808080";default:return"#FFFFFF"}},le=function(e){return e&&"png"===e.toLowerCase()?L:U},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,a=e.width,c=e.height,l=Q(.64,a),o=Q(.265,c),i=Q(.27,a),u=Q(.425,c);if(n===r.All){var s=t/8,m={height:Q(s,u),left:l,top:o,width:i};return m}var f=.73,d=.03,h=.27,g=.1,b=1-f-d,p={top:Q(t/8,u),height:Q(1/8,u)},v=o+p.top,E=p.height;if(n===r.Position){var N={height:E,left:l,top:v,width:Q(g,i)};return N}var y=l+Q(f,i),k=Q(b,i),w=l+Q(h,i),j=Q(1-b-h-d,i),x=n===r.Time,O=x?y:w,C=x?k:j,P={height:E,left:O,top:v,width:C};return P},ie=function(e){return e?e.split(".")[0]:""},ue=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},se=function(e,t){return 0===e?[]:1===e?[t]:Z(1,e).map((function(e){return t}))},me=function(e){var t={correct:!1,errMsg:""},n=Object(b.a)(e).sort((function(e,t){return t-e}));return ue(n,e)?(t.correct=!0,t):(t.errMsg="Points should decrease from first to last place (ties are possible)",t)},fe=function(e){var t={correct:!1,errMsg:""};return e.some((function(e){return!e}))?(t.errMsg="At least one username is missing",t):Object(V.uniq)(e).length!==e.length?(t.errMsg="At least one username is duplicated",t):(t.correct=!0,t)},de=n(157),he=n.n(de),ge=function(e){var t=new Date(e),n="".concat(t.getMonth()+1),r="".concat(t.getDate());return["".concat(t.getFullYear()),n.length<2?"0".concat(n):n,r.length<2?"0".concat(r):r].join("-")},be=function(e){return 0===e?[]:Z(0,e-1).map((function(e){return{name:"Team ".concat(e+1),color:ce(e)}}))},pe=function(e,t,n,r){var a=ve(e),c=[];return n.forEach((function(e,n){var l=r[n],o=l.color,i=l.name,u="".concat(i," ").concat(o);c.push(u),Object.keys(t).forEach((function(n){if(t[n]===e){var r=a[n]||[],l="".concat(n," ").concat(r.join("|"));c.push(l)}})),c.push("")})),[].concat(Object(b.a)(Ee()),[""],c)},ve=function(e){var t={};return e.forEach((function(e){e.forEach((function(e){var n=e.username;Object.keys(t).includes(n)||(t[n]=[])}))})),e.forEach((function(e){Object.keys(t).forEach((function(n){var r,a=e.find((function(e){return e.username===n})),c=null!==(r=null===a||void 0===a?void 0:a.points)&&void 0!==r?r:0;t[n].push(c)}))})),t},Ee=function(){return["#title Title","#date ".concat(ge(Date.now()))]},Ne=function(e){var t=ve(e),n=[];return Object.keys(t).forEach((function(e){var r=t[e],a="".concat(e," ").concat(r.join("|"));n.push(a)})),[].concat(Object(b.a)(Ee()),[""],n)},ye=function(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"mt2 text-center"},"Developed by"," ",l.createElement("a",{href:T,rel:"noopener noreferrer",title:"GitHub page for repository",target:"_blank"},"sebranly")," ","(PSN:"," ",l.createElement("a",{href:"https://crashteamranking.com/members/siblingbling/tt/",rel:"noopener noreferrer",title:"Crash Team Ranking for ZouGui28",target:"_blank"},"ZouGui28"),") with \u2764\ufe0f"),l.createElement("div",{className:"mt2 text-center"},"Website version"," ",l.createElement("a",{href:G,rel:"noopener noreferrer",title:"Website changelog",target:"_blank"},"1.1.0")))},ke=function(e){var t=e.msg;return l.createElement("div",{className:"text-center mb"},t)},we=function(e){var t=e.lorenziTeams,n=e.setLorenziTeams,r=function(e,r){return function(a){if(!(t.length<=e)){var c=a.currentTarget.value,l=Object(b.a)(t);r?l[e].name=c:l[e].color=c,n(l)}}};return l.createElement("div",{className:"text-center mb2"},t.map((function(e,t){var n=e.name,a=e.color;return l.createElement("div",{className:"mb",key:t},l.createElement("input",{className:"mr",onChange:r(t,!0),value:n}),l.createElement("input",{className:"ml",onChange:r(t,!1),type:"color",value:a}))})))},je=function(){var e,t,n=function(){var e=mt.slice(0,Le);return l.createElement("tbody",null,e.map((function(e,t){var n=t,r=gt[t],a=r===c.Positive?"green":"red";return l.createElement("tr",{key:n},l.createElement("td",{className:"text-center"},ne(t+1)),l.createElement("td",{className:"text-center"},l.createElement("select",{disabled:We,onChange:yn(t),className:a,value:r},o()),l.createElement("input",{className:"ml text-center",type:"number",min:0,value:mt[t],disabled:We,onChange:kn(t)})))})))},o=function(){return[c.Positive,c.Negative].map((function(e){return l.createElement("option",{key:e,label:e,value:e},e)}))},i=function(e){var t=function(e,t){var n="".concat(e,"-").concat(t),r="".concat(e);return l.createElement("option",{key:n,label:r,value:e},r)},n=O.isMobile?"max-width-100":"";return l.createElement("tbody",null,$e[e].map((function(r,a){var c,o,i=r.position,u=r.username,s=r.points,m="".concat(i,"-").concat(u);return l.createElement("tr",{key:m},l.createElement("td",null,ne(i)),Gt&&l.createElement("td",null,(c=u,(o=rt)&&ee(o).includes(c)?"\ud83d\udc64":"\ud83e\udd16")),l.createElement("td",null,l.createElement("select",{className:n,onChange:jn(e,a),value:u},function(){var e=ee(rt).sort(q);if(!Gt)return e.map(t);var n=ee(Ct).sort(q);return l.createElement(l.Fragment,null,l.createElement("optgroup",{key:"human",label:"Human"},e.map(t)),l.createElement("optgroup",{key:"cpus",label:"CPUs"},n.map(t)))}())),l.createElement("td",null,l.createElement("select",{onChange:wn(e,a),value:s},Object(V.uniq)([].concat(Object(b.a)(ot.slice(0,Le)),[0])).sort((function(e,t){return t-e})).map(t))))})))},u=function(e){var t="Race ".concat(e+1),n=fe($e[e].map((function(e){return e.username}))),r=me($e[e].map((function(e){return e.points})));return l.createElement("div",{key:e},l.createElement("h3",null,t),function(e){if(!_e||_e.length<=e)return null;var t=O.isMobile?"img-show max-width-100":"img-show max-width-45";return l.createElement("img",{alt:"Cropped Results",className:t,src:_e[e]})}(e),l.createElement("div",{className:"flex-container mt"},function(e){var t=O.isMobile?"flex-1 limited-table":"flex-1";return l.createElement("table",{className:t},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Position"),Gt&&l.createElement("th",null,"Type"),l.createElement("th",null,"Name"),l.createElement("th",null,"Points"))),i(e))}(e)),!n.correct&&l.createElement("div",{className:"red"},n.errMsg),!r.correct&&l.createElement("div",{className:"red"},r.errMsg))},m=function(){if(!$e||$e.length<=tn)return null;var e=function(e){var t=e.map((function(e){return me(e.map((function(e){return e.points})))})),n=e.map((function(e){return fe(e.map((function(e){return e.username})))})),r=[];return t.forEach((function(e,t){e.correct||r.push(t+1)})),n.forEach((function(e,t){e.correct||r.includes(t+1)||r.push(t+1)})),r.sort((function(e,t){return e-t}))}($e),t="In order to access Lorenzi markdown please fix the errors present in the following race(s): ".concat(e.join(", ")),n=(cn.match(/\n/g)||[]).length+1;return l.createElement("div",{className:"center"},l.createElement("h2",null,"Lorenzi"),e.length>0&&l.createElement("div",{className:"red"},t),0===e.length&&l.createElement(l.Fragment,null,l.createElement(C.CopyToClipboard,{options:{message:""},text:cn,onCopy:function(){return jt(!0)}},l.createElement("button",{disabled:""===cn||wt,className:"mt"},wt?"Copied":"Copy Lorenzi to clipboard")),l.createElement("a",{className:"block mt mb",href:"https://gb.hlorenzi.com/table",rel:"noopener noreferrer",title:"Lorenzi Table website",target:"_blank"},"Go to Lorenzi Table"),!Gt&&!Gn&&l.createElement(we,{lorenziTeams:Ht,setLorenziTeams:Jt}),l.createElement("textarea",{className:"textarea-".concat(Cn),disabled:!0,rows:n,value:cn})))},v=function(){return function(){var e=O.isMobile?"flex-1":"flex-1 max-width-50 center";return l.createElement("table",{className:e},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{className:"text-center"},"Position"),l.createElement("th",{className:"text-center"},"Points"))),n())}()},N=function(){return Gt?l.createElement(ke,{msg:"Teams are not available when CPUs are activated"}):l.createElement(l.Fragment,null,l.createElement("select",{disabled:We,onChange:En,value:Vt},On.map((function(e){var t=e===Le?"FFA":"".concat(e," teams");return l.createElement("option",{key:e,label:t,value:e},t)}))),F())},k=function(e){return function(t){var n=t.currentTarget.value,r=Object(g.a)(Object(g.a)({},Kt),{},Object(h.a)({},e,n));Xt(r)}},j=function(e){var t=function(e,t,n){var r=n[e];if(!r)return"black";switch(t.indexOf(r)){case 0:return"blue";case 1:return"red";case 2:return"green";case 3:return"orange";case 4:return"purple";case 5:return"brown";case 6:return"grey";default:return"black"}}(e,It,Kt),n="inline ".concat(t);return l.createElement("li",{className:"block",key:e},l.createElement("div",{className:n},e),l.createElement("div",{className:"ml mb block text-center"},function(e){return It.map((function(t){var n="".concat(e,"-").concat(t),r=Kt[e]===t;return l.createElement("div",{className:"ml inline",key:n},l.createElement("input",{type:"radio",disabled:We,id:n,name:e,value:t,checked:r,onChange:k(e)}),l.createElement("label",{htmlFor:n},t))}))}(e)))},F=function(){if(Gt)return null;if(Gn)return l.createElement("div",{className:"ml block mb"},"Free For All means there is no need to set up teams!");var e=Tn.isWarning?"orange":"red";return l.createElement(l.Fragment,null,l.createElement("ul",{className:"text-center no-padding mt2"},l.createElement("div",{className:"inline-block"},Fn.map(j)),!Tn.correct&&l.createElement("div",{className:e},Tn.errMsg)))},T=function(){if(!St||0===Object.keys(St).length)return l.createElement(ke,{msg:"Loading CPUs..."});var e="".concat(S,"CPUs.md"),t=Object.keys(St),n=dn?"Automatically activated bots because ".concat(fn," human player(s) was/were filled out of a total of ").concat(Le," players"):"Check this if there were bots during the race";return l.createElement(l.Fragment,null,l.createElement("div",{className:"text-center mb"},l.createElement("input",{name:"includeCpuPlayers",type:"checkbox",checked:Gt,onChange:xn,disabled:dn||We}),l.createElement("div",{className:"ml inline"},n)),Gt&&l.createElement(l.Fragment,null,l.createElement(ke,{msg:"Bots are automatically determined based on the language and cannot be edited"}),l.createElement("div",{className:"ml block mb"},"For more information, please refer to the"," ",l.createElement("a",{href:e,rel:"noopener noreferrer",title:"Guide about CPUs",target:"_blank"},"CPUs guide")),l.createElement("div",{className:"inline mr"},"Language in images"),l.createElement("select",{disabled:We,onChange:Nn,value:De},t.map((function(e){var t="".concat(e);return l.createElement("option",{key:e,label:t,value:e},t)}))),l.createElement("textarea",{className:"textarea-".concat(Cn),disabled:!0,placeholder:"Loading CPUs...",rows:8,value:Ct})))},G=function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye(!0),qe(!1),fetch(A).then((function(e){return e.json()})).then((function(e){At(e),Pt(X(e.en))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,c,l,o,i,u,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=2;break}return e.abrupt("return");case 2:return qe(!0),K(a.Started),ve("Initialization..."),et([]),nn(0),Me([]),ln(""),mn(!1),t=Object(p.createScheduler)(),n=Object(p.createWorker)({}),t.addWorker(n),e.next=15,n.load();case 15:return e.next=17,n.loadLanguage("eng");case 17:return e.next=19,n.initialize("eng");case 19:return c=re(r.Username,ee(rt),ee(Ct),Gt),e.next=22,n.setParameters(c);case 22:l=Z(0,Le-1),o=function(){var e=Object(d.a)(f.a.mark((function e(n,r,a,c){var l,o,i,u,s,m,d,h,g,b,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t,o=oe(a,n,r),i=a.extension,u=le(i),s=c.crop(o.left,o.top,o.width,o.height),m={count:2,type:u},e.next=8,s.getBufferAsync(u);case 8:return d=e.sent,e.next=11,E()(d,m).then((function(e){return[e[0].rgb(),e[1].rgb()]}));case 11:return h=e.sent,g=h[0][0]<h[1][0]&&h[0][1]<h[1][1]&&h[0][2]<h[1][2],b=g?s.invert():s,e.next=16,b.getBufferAsync(u);case 16:return p=e.sent,e.abrupt("return",l.addJob("recognize",p));case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),i=[],u=[],s=0;case 27:if(!(s<Fe.length)){e.next=38;break}return e.prev=28,e.delegateYield(f.a.mark((function e(){var t,n,a,c,m,d,h,g,b,p,v,E,N,k,w,j,x,O;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Image ".concat(s+1," out of ").concat(Fe.length,"..."),ve(t),e.next=5,y.a.read(Fe[s]);case 5:return n=e.sent,a=n.bitmap.height,c=a>1e3?n.resize(y.a.AUTO,1e3):n,m=c.rotate(-6.2),d=m.bitmap.height,h=m.bitmap.width,g=m.getExtension(),p=oe(b={height:d,extension:g,width:h},Le,r.All),v=m.clone(),v.crop(p.left,p.top,p.width,p.height).getBase64(U,(function(e,t){u.push(t)})),E=m.grayscale(),N=l.map((function(e){return o(e,r.Username,b,E.clone())})),e.next=32,Promise.all(N);case 32:k=e.sent,w=k.map((function(e){return e.data.text.replaceAll("\n","").replaceAll(" ","")})),j=[],x=te(rt,Ct,Gt),O=[],l.forEach((function(e){var t,n,r=w[e],a=D(r,x),c={username:a,rawUsername:r,distanceUsername:B(a,r),position:e+1,points:ot[e]};O.push([c.username,null!==(t=c.rawUsername)&&void 0!==t?t:"",null!==(n=c.distanceUsername)&&void 0!==n?n:c.username.length]),j.push(c)})),i.push(j);case 43:case"end":return e.stop()}}),e)}))(),"t0",30);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(28),e.t1;case 35:s++,e.next=27;break;case 38:return et(i),Me(u),K(a.Done),ve(""),e.next=44,t.terminate();case 44:case"end":return e.stop()}}),e,null,[[28,32]])})));return function(){return e.apply(this,arguments)}}(),H=w()().width,J=l.useState(a.NotStarted),Q=Object(s.a)(J,2),Y=Q[0],K=Q[1],ce=l.useState(""),de=Object(s.a)(ce,2),ge=de[0],ve=de[1],Ee=l.useState([]),je=Object(s.a)(Ee,2),xe=je[0],Oe=je[1],Ce=l.useState([]),Pe=Object(s.a)(Ce,2),Fe=Pe[0],Te=Pe[1],Se=l.useState([]),Ae=Object(s.a)(Se,2),_e=Ae[0],Me=Ae[1],Ge=l.useState(8),Ue=Object(s.a)(Ge,2),Le=Ue[0],ze=Ue[1],Ie=l.useState("en"),Re=Object(s.a)(Ie,2),De=Re[0],Be=Re[1],He=l.useState(!0),Je=Object(s.a)(He,2),We=Je[0],qe=Je[1],Ve=l.useState(!1),Ze=Object(s.a)(Ve,2),Qe=Ze[0],Ye=Ze[1],Ke=l.useState([]),Xe=Object(s.a)(Ke,2),$e=Xe[0],et=Xe[1],tt=l.useState(""),nt=Object(s.a)(tt,2),rt=nt[0],at=nt[1],ct=l.useState(z),lt=Object(s.a)(ct,2),ot=lt[0],it=lt[1],ut=l.useState(z),st=Object(s.a)(ut,2),mt=st[0],ft=st[1],dt=l.useState(se(8,c.Positive)),ht=Object(s.a)(dt,2),gt=ht[0],bt=ht[1],pt=l.useState(!1),vt=Object(s.a)(pt,2),Et=vt[0],Nt=vt[1],yt=l.useState(!1),kt=Object(s.a)(yt,2),wt=kt[0],jt=kt[1],xt=l.useState("Loading CPUs..."),Ot=Object(s.a)(xt,2),Ct=Ot[0],Pt=Ot[1],Ft=l.useState({}),Tt=Object(s.a)(Ft,2),St=Tt[0],At=Tt[1],_t=l.useState(!1),Mt=Object(s.a)(_t,2),Gt=Mt[0],Ut=Mt[1],Lt=l.useState(ae(2)),zt=Object(s.a)(Lt,2),It=zt[0],Rt=zt[1],Dt=l.useState(be(2)),Bt=Object(s.a)(Dt,2),Ht=Bt[0],Jt=Bt[1],Wt=l.useState(2),qt=Object(s.a)(Wt,2),Vt=qt[0],Zt=qt[1],Qt=l.useState({}),Yt=Object(s.a)(Qt,2),Kt=Yt[0],Xt=Yt[1],$t=l.useState(0),en=Object(s.a)($t,2),tn=en[0],nn=en[1],rn=l.useState(""),an=Object(s.a)(rn,2),cn=an[0],ln=an[1],on=l.useState(!1),un=Object(s.a)(on,2),sn=un[0],mn=un[1],fn=Object(V.uniq)(ee(rt)).length,dn=fn<Le;l.useEffect((function(){G()}),[]),l.useEffect((function(){var e=Object(b.a)(mt).map((function(e,t){return(gt[t]===c.Negative?-1:1)*e}));it(e)}),[mt,gt]),l.useEffect((function(){if(!(xe.length<1)){var e=[];(function(e){return 0===e.length?[]:1===e.length?e:e.sort((function(e,t){var n=e.name,r=t.name,a=ie(n),c=ie(r);return W(a,c)}))})(xe).forEach((function(t){e.push(URL.createObjectURL(t))})),Te(e)}}),[xe]),l.useEffect((function(){if($e&&$e.length>0){var e=function(e,t,n,r,a,c,l){return c||n===r?Ne(e):pe(e,t,a,l)}($e,Kt,Vt,Le,It,Gt,Ht);ln(e.join("\n")),jt(!1)}}),[$e,Ht]),l.useEffect((function(){dn&&!Gt&&Ut(!0)}),[dn,Gt]);var hn=function(e){mn(!0)},gn=function(e){window.location.reload()},bn=function(e){return function(t){var n=tn+e;n<0||n>=$e.length||nn(n)}},pn=function(e){Oe(Object(b.a)(e.target.files)),et([])},vn=function(e){e!==Le&&(ze(e),at(""),Zt(2),Rt(ae(2)),Jt(be(2)),Xt({}))},En=function(e){var t=Number(e.target.value),n=ae(t),r=t===Le;Zt(t),Rt(n),Jt(be(t)),Xt({}),bt(se(8,c.Positive)),ft(r?z:I)},Nn=function(e){Be(e.target.value),Pt(X(St[e.target.value]))},yn=function(e){return function(t){if(gt&&!(gt.length<e)){var n=t.target.value===c.Positive?c.Positive:c.Negative,r=Object(b.a)(gt);r[e]=n,bt(r)}}},kn=function(e){return function(t){if(mt&&!(mt.length<e)){var n=t.currentTarget.value,r=Object(b.a)(mt),a=Number(n),c=isNaN(a)?0:a;r[e]=Math.abs(c),ft(r)}}},wn=function(e,t){return function(n){if($e&&!($e.length<e)){var r=Object(b.a)($e);r[e][t].points=Number(n.target.value),et(r)}}},jn=function(e,t){return function(n){if($e&&!($e.length<e)){var r=Object(b.a)($e);r[e][t].username=n.target.value,et(r)}}},xn=function(e){var t=e.target.checked;Ut(t),bt(se(8,c.Positive)),ft(!0===t?z:I)},On=function(e){return[0,1,2].includes(e)?[e]:Object(V.uniq)([e].concat(Object(b.a)(Z(2,e-1).sort((function(e,t){return e-t})))))}(Le),Cn=O.isMobile?"mobile":"desktop",Pn=!We||$e&&0!==$e.length?"bg-white":"bg-grey",Fn=Object(V.uniq)(ee(rt)).sort(q),Tn=function(e,t,n){var r={correct:!1,errMsg:""},a=[],c=[],l=[];return e.forEach((function(e){var r=n[e];r||a.push(e),t.includes(r)||c.push(e),t.includes(r)&&l.push(r)})),a.length>0?(r.errMsg="The following players have no assigned team: ".concat(a.join(", ")),r.isWarning=!0,r):c.length>0?(r.errMsg="The following players have an invalid team: ".concat(c.join(", ")),r):1===Object(V.uniq)(l).length?(r.errMsg="You cannot have all players under the same team",r):(r.correct=!0,r)}(Fn,It,Kt),Sn=me(ot.slice(0,Le)),An=null!==(e=null===(t=navigator)||void 0===t?void 0:t.userAgent)&&void 0!==e?e:"",_n=new he.a(An).getResult(),Mn=$(Le,_n),Gn=Vt===Le,Un=!Gt&&!Gn&&!Tn.correct,Ln=!Sn.correct,zn="".concat(S,"FAQ.md");return l.createElement("div",{className:"main"},l.createElement("h1",null,"Crash Team Results"),l.createElement("div",{className:"w3-light-grey"}),Y===a.Done&&l.createElement(x.a,{width:H,height:document.body.scrollHeight>window.innerHeight?document.body.scrollHeight:window.innerHeight,numberOfPieces:O.isMobile?800:1600,recycle:!1}),l.createElement("div",{className:"center main-content-".concat(Cn," ").concat(Pn)},Y!==a.Started?null:l.createElement("div",{className:"progress-bar"},l.createElement("div",{className:"progress-bar-value"}),l.createElement("div",{className:"progress-bar-text"},ge)),l.createElement("h2",null,"Introduction"),l.createElement(ke,{msg:"Please enter information from top to bottom for a smooth experience"}),l.createElement(ke,{msg:"At the end, we'll produce the Lorenzi markdown for you"}),l.createElement("a",{href:"https://youtu.be/XjwoKGtEQag",rel:"noopener noreferrer",title:"Video Tutorial about how to use Crash Team Results website",target:"_blank"},"Video Tutorial")," - ",l.createElement("a",{href:zn,rel:"noopener noreferrer",title:"Frequently Asked Questions",target:"_blank"},"FAQ"),l.createElement("h2",null,"Players"),l.createElement("h3",null,"Number of players"),l.createElement(ke,{msg:"This includes CPUs if any"}),function(){var e=We?Le:2,t=We?Le:8,n=We?Le:8,r=We?function(){}:vn,a=We?"#999999":"#3385FF";return l.createElement("div",{className:"numeric-stepper-wrapper"},l.createElement(P.a,{minimumValue:e,maximumValue:t,stepValue:1,initialValue:n,size:"sm",inactiveTrackColor:"#dddddd",activeTrackColor:"#ffffff",activeButtonColor:"#ffffff",inactiveIconColor:"#3385FF",hoverIconColor:"#000080",activeIconColor:"#000080",disabledIconColor:"#dddddd",thumbColor:a,thumbShadowAnimationOnTrackHoverEnabled:!1,focusRingColor:"#fff7ed",onChange:r}))}(),l.createElement("h3",null,"Human Players"),l.createElement(ke,{msg:"Type all human players present in the races. Type one username per line."}),l.createElement("textarea",{className:"textarea-".concat(Cn),disabled:We,placeholder:Mn,rows:Le,value:rt,onChange:function(e){at(e.currentTarget.value),Nt(!1),Zt(2),Rt(ae(2)),Jt(be(2)),Xt({})}}),l.createElement(C.CopyToClipboard,{options:{message:""},text:rt,onCopy:function(){return Nt(!0)}},l.createElement("button",{disabled:0===fn||Et,className:"mt"},Et?"Copied":"Copy to clipboard")),0===fn?null:l.createElement(l.Fragment,null,l.createElement(l.Fragment,null,l.createElement("h3",null,"CPUs"),T()),l.createElement(l.Fragment,null,l.createElement("h3",null,"Teams"),N()),function(){if(Un)return null;var e=ue(ot.slice(0,Le),z.slice(0,Le)),t=ue(ot.slice(0,Le),I.slice(0,Le));return l.createElement(l.Fragment,null,l.createElement("h3",null,"Points"),l.createElement(ke,{msg:"Choose a preset or edit each value individually for something more custom"}),l.createElement("div",{className:"mb"},l.createElement("button",{onClick:function(){bt(se(8,c.Positive)),ft(z)},disabled:We||e},"FFA preset"),l.createElement("button",{className:"ml",onClick:function(){bt(se(8,c.Positive)),ft(I)},disabled:We||t},"WAR preset")),v(),!Sn.correct&&l.createElement("div",{className:"red"},Sn.errMsg))}(),function(){var e="".concat(_,"IMG1.JPG"),t="".concat(_,"IMG1.PNG"),n="".concat(S,"Images.md");return Ln||Un?null:l.createElement(l.Fragment,null,l.createElement("h2",null,"Images"),l.createElement("div",{className:"text-center mb"},l.createElement("div",{className:"ml block mb bold"},"Screenshots will be ordered alphabetically by name"),l.createElement("div",{className:"ml block mb"},"Select screenshots in JPG/JPEG or PNG format, taken right when Returning to Lobby was around 14 seconds"),l.createElement("div",{className:"ml block mb"},"Examples of valid screenshots:"," ",l.createElement("a",{href:e,rel:"noopener noreferrer",title:"Example of valid JPEG screenshot",target:"_blank"},"JPG/JPEG")," ","and"," ",l.createElement("a",{href:t,rel:"noopener noreferrer",title:"Example of valid PNG screenshot",target:"_blank"},"PNG")),l.createElement("div",{className:"ml block mb"},"You can upload multiple images at once, as in this"," ",l.createElement("a",{href:M,rel:"noopener noreferrer",title:"Example of a valid 10-race event",target:"_blank"},"10-race example")),l.createElement("div",{className:"ml block mb"},"For more information, please refer to the"," ",l.createElement("a",{href:n,rel:"noopener noreferrer",title:"Guide about Images",target:"_blank"},"images guide")),l.createElement("input",{className:"inline mt",disabled:We,type:"file",multiple:!0,accept:[U,L].join(", "),onChange:pn})))}(),Ln||Un?null:O.isMobile?Fe.map((function(e,t){return l.createElement("img",{alt:"TODO:",className:"img-full max-width-100 block",key:"".concat(e,"-").concat(t),src:e})})):l.createElement("div",{className:"flex-container center"},Fe.map((function(e,t){return l.createElement("img",{alt:"TODO:",className:"img-full max-width-45 flex-1",key:"".concat(e,"-").concat(t),src:e})}))),function(){if(Ln||Un)return null;var e=Y===a.Done?"orange":"red",t="ml block mb bold ".concat(e),n=Y===a.Done?"Images were analyzed successfully. Please check the results below are correct. Feel free to tweak any mistake below.":"Please ensure all the information entered above is correct, as none of it can be edited afterwards.";return l.createElement("div",{className:"text-center mb"},l.createElement("div",{className:t},n),l.createElement("input",{className:"inline-block ml",type:"button",value:"Get results",disabled:We||!Fe||0===Fe.length,onClick:R}))}(),!$e||$e.length<=tn?null:l.createElement(l.Fragment,null,l.createElement("hr",null),l.createElement("div",{className:"center"},l.createElement("button",{disabled:sn,onClick:hn},"Start Over"),sn&&l.createElement("button",{className:"block confirm-start-over",onClick:gn},"Confirm and start from scratch"),l.createElement("h2",null,"Results"),u(tn),1!==$e.length&&l.createElement("div",{className:"pagination-races mt2"},l.createElement("button",{className:"pagination-previous-race mr",disabled:0===tn,onClick:bn(-1)},"Previous Race"),l.createElement("div",{className:"inline ml mr"},"Race ".concat(tn+1,"/").concat($e.length)),l.createElement("button",{className:"pagination-next-race ml",disabled:tn===$e.length-1,onClick:bn(1)},"Next Race")))),m())),l.createElement(ye,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(je,null),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[161,1,2]]]);
//# sourceMappingURL=main.73a53d6b.chunk.js.map